<script>
//  С ошибкой но ристрация проходит
    function register(){
        let form = document.forms[0]
        let request = JSON.stringify({
            'first_name':form.elements['first_name'].value,
            'last_name':form.elements['last_name'].value,
            'document_number':form.elements['document_number'].value,
            'phone':form.elements['phone'].value,
            'password':form.elements['password'].value,
        })
        xhr.open('post','http://api.wsr.ru/api/register',true)
        xhr.setRequestHeader('Content-Type','application/json')
        xhr.onreadystatechange = function(){
            if(xhr.readyState !== 4) return
            if(xhr.status === 422)return alert(data.error.message)
            if(xhr.status === 204) goto_page('login.html')
        }
        xhr.send(request)
        return false
    }
</script>

<div class="container vh-100 d-flex align-items-center justify-content-center">

    <section class="mt-5 w-75">
        <h2 class="mb-5 text-center">Registration</h2>

        <form onsubmit="return register()">
            <div class="row">
                <div class="col-12 col-md-6">
                    <input name="first_name" type="text" class="form-control is-invalid test-2-name" placeholder="Frist name">
                    <div class="invalid-feedback test-1-emfn">Error message</div>
                </div>
                <div class="col-12 mt-3 col-md-6 mt-md-0">
                    <input name="last_name" type="text" class="form-control is-invalid test-2-last" placeholder="Last name">
                    <div class="invalid-feedback test-2-emln">Error message</div>
                </div>
                <div class="col-12 mt-3 col-md-6">
                    <input name="document_number" type="text" class="form-control test-2-doc" placeholder="Document number">
                    <div class="invalid-feedback test-2-emdn">Error message</div>
                </div>
                <div class="col-12 mt-3 col-md-6">
                    <input name="phone" type="text" class="form-control test-2-phone" placeholder="Phone">
                    <div class="invalid-feedback test-2-empn">Error message</div>
                </div>
                <div class="col-12 mt-3 col-md-6">
                    <input name="password" type="password" class="form-control test-2-pass" placeholder="Password">
                    <div class="invalid-feedback test-2-empw">Error message</div>
                </div>
                <div class="col-12 mt-3 col-md-6">
                    <input type="password" class="form-control test-2-pass2" placeholder="Password confirmation">
                    <div class="invalid-feedback test-2-empw2">Error message</div>
                </div>
                <div class="col-12 mt-3">
                    <button class="btn btn-primary w-100 test-2-btn">Register now</button>
                    <div class="text-center mt-2">
                        Already have an account? <a onclick="goto_page('login.html')" class="test-2-blgn">Log in</a>
                        or
                        <a onclick="goto_page('index.html')" class="test-2-bbhm">Back home</a>
                    </div>
                </div>
            </div>
        </form>
    </section>

</div>